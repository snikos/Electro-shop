!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}({2:function(t,e){class r{constructor(t){this.array=t,this.res=[],this.itemCount=1}getWord(t,e,r){this.res=[],this.array.filter(e=>{-1!=e.product.trim().search(t)&&this.res.push(e)}),this.buildShop(this.res,e,r)}setCompleteList(){let t=[];return this.array.forEach(e=>{let r=e.product.split(" ")[0].trim();t.includes(r)||t.push(r)}),t.forEach((t,e)=>{this.addHtml(list_complete,2,"html",`<option value="${t}" data-index="${e}" ${0===e?" selected":""}>${t}</option>`)}),!1}beforeBuildShop(t,e){let r=`<div class="col-12 text-center">\n\t\t  <button type="button" class="btn btn-success moreitem" data-typo="${e}">Load more</button>\n\t\t</div>`,n=document.getElementById(t+e);n.innerHTML="",this.addHtml(n,2,"html",r)}buildShop(t,e,r="Filter",n){let i=t||this.array;e=e||"productsFilter",n=n||5;let o=this.itemCount,s=document.getElementById(e+r);o<=1&&this.beforeBuildShop("products",r),i.forEach((t,e)=>{e>=n*o-n&&e<n*o&&this.addHtml(s,1,"html",function(t,e,r){const[n,i,o]=r.match(/^(\d+\.?\-?)(\d*)/);return`\n\t\t\t  <a href="item.html" class="article_link" data-model="${t}">\n\t\t\t    <img src="${e}" alt="${t} - ${r} /n id" />\n\t\t\t    <p class="item-text">${t}</p>\n\t\t\t    <span class="price item-price">${i}${o?"":"-"}<span class="cents">${o?(o+"0").slice(0,2):""}</span></span>\n\t\t\t  </a>`}(t.product,t.image,t.price))}),this.itemCount+=1}performSearchComplex(t,e){const r=list_complete.value;t=t||this.array;const n=this.itemCount;console.log(n);const[i,o]=(s=Number(price_min.value),a=Number(price_max.value),s>a?[a,s]:[s,a]);var s,a;range_display.childNodes[0].textContent=`Price (${i}...${o})`;const c=(l=t,u=r,p=exact_search.checked,d=u.trim().toLowerCase().split(/\s+/),l.filter((function({product:t}){var e=t.toLowerCase().split(/\s+/);return d.every((function(t){return e.some((function(e){return p?e===t:e.startsWith(t)}))}))}))).filter(({price:t})=>(t=Number(t),i<=t&&t<=o));var l,u,p,d;c.sort(function(t){return[(t,e)=>t.product>e.product?1:-1,(t,e)=>Number(t.price)>Number(e.price)?1:-1,(t,e)=>Number(t.price)<Number(e.price)?1:-1][t]}(order.value));let m=c.map(({image:t,product:e,price:r},i)=>{if(i>=n*results_per_page.value)return"";const[,o,s]=r.match(/^(\d+\.?\-?)(\d*)/);return`\n\t\t\t\t\t\t<a href="item.html" class="article_link" data-model="${e}">\n\t\t\t\t\t\t\t<img src="${t}" alt="${e} - ${r} - [${i}]" />\n\t\t\t\t\t\t\t<p class="item-text">${e}</p>\n\t\t\t\t\t\t\t<span class="price item-price">${o}${s?"":"-"}\n\t\t\t\t\t\t\t<span class="cents">${s?(s+"0").slice(0,2):""}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t`}).join("");c.length>n*results_per_page.value&&(m+='<div class="col-12 text-center">\n\t\t\t\t\t<button type="button" class="btn btn-success moreitem" data-typo="Filter">Load more</button>\n\t\t\t\t</div>'),productsFilter.innerHTML=m,this.itemCount+=1}addHtml(t,e,r,n){let i={html:"insertAdjacentHTML",text:"insertAdjacentText",elem:"insertAdjacentElement",0:"beforebegin",1:"afterbegin",2:"beforeend",3:"afterend"};return t[i[r]](i[e],n),this}}fetch("json/data.json").then(t=>t.json()).then(t=>{let e=new r(t),n=e.itemCount;e.performSearchComplex(t,1),e.setCompleteList(),document.addEventListener("click",(function(r){let i=r.target;if("BUTTON"===i.tagName&&i.classList.contains("moreitem")){i.getAttribute("data-typo");e.performSearchComplex(t,n)}return!1})),list_complete.addEventListener("input",(function(r){e.performSearchComplex(t,n)})),price_min.addEventListener("change",(function(){e.performSearchComplex(t)})),price_max.addEventListener("change",(function(){e.performSearchComplex(t)})),order.addEventListener("change",(function(){e.performSearchComplex(t)})),results_per_page.addEventListener("change",(function(){e.performSearchComplex(t)}))})}});
//# sourceMappingURL=pricing.bundle.js.map